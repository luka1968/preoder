# ğŸ¨ å‰ç«¯è„šæœ¬é…ç½®æŒ‡å—

ä¿®å¤åï¼Œå‰ç«¯è„šæœ¬æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼Œé€‚é…ä¸åŒç¯å¢ƒã€‚

---

## ğŸ“Œ é»˜è®¤è¡Œä¸ºï¼ˆæ— éœ€é…ç½®ï¼‰

å¦‚æœä¸æä¾›ä»»ä½•é…ç½®ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ä½¿ç”¨å½“å‰åŸŸåï¼š

```javascript
// âœ… è‡ªåŠ¨æ£€æµ‹
apiUrl: window.location.origin + '/api'

// ç¤ºä¾‹ï¼š
// å¦‚æœåœ¨ https://shopmall.dpdns.orgï¼Œåˆ™ API URL = https://shopmall.dpdns.org/api
// å¦‚æœåœ¨ https://example.comï¼Œåˆ™ API URL = https://example.com/api
```

---

## ğŸ”§ æ–¹å¼ 1ï¼šé€šè¿‡ App Embed é…ç½®

åœ¨ Shopify ä¸»é¢˜çš„ App Embed è®¾ç½®ä¸­ï¼Œæ·»åŠ é…ç½®ä»£ç å—ï¼š

```liquid
<!-- åœ¨ theme.liquid çš„ </head> å‰æ·»åŠ  -->
<script>
  window.PREORDER_CONFIG = {
    apiUrl: '{{ shop.metafields.preorder.api_url | default: "https://yourdomain.com/api" }}',
    shop: '{{ shop.permanent_domain }}',
    enabled: true,
    debug: {{ settings.preorder_debug | default: false }}
  };
</script>
```

---

## ğŸ”§ æ–¹å¼ 2ï¼šç›´æ¥åœ¨ä¸»é¢˜ä¸­é…ç½®

```html
<!-- åœ¨äº§å“é¡µé¢æ¨¡æ¿ä¸­ -->
<script>
  window.PREORDER_CONFIG = {
    apiUrl: 'https://shopmall.dpdns.org/api',  // ä½ çš„åº”ç”¨åŸŸå
    shop: '{{ shop.permanent_domain }}',
    enabled: true,
    debug: false,  // ç”Ÿäº§ç¯å¢ƒè®¾ä¸º false
    // å¯é€‰çš„è‡ªå®šä¹‰æ–‡æœ¬
    i18n: {
      buttonText: 'Pre-Order Now',
      badgeText: 'Pre-Order',
      modalTitle: 'Pre-Order This Item'
    }
  };
</script>
<script src="https://shopmall.dpdns.org/universal-preorder.js"></script>
```

---

## ğŸ”§ æ–¹å¼ 3ï¼šMetafield åŠ¨æ€é…ç½®ï¼ˆæ¨èï¼‰

### Step 1: åœ¨ Shopify åˆ›å»º Metafield

```
Namespace: preorder
Key: api_url
Type: Single line text
Value: https://yourdomain.com/api
```

### Step 2: åœ¨ä¸»é¢˜ä¸­è¯»å–

```liquid
<script>
  window.PREORDER_CONFIG = {
    apiUrl: '{{ shop.metafields.preorder.api_url }}',
    shop: '{{ shop.permanent_domain }}',
    enabled: {{ shop.metafields.preorder.enabled | default: true }}
  };
</script>
```

---

## ğŸŒ å¤šç¯å¢ƒé…ç½®ç¤ºä¾‹

### å¼€å‘ç¯å¢ƒ
```javascript
window.PREORDER_CONFIG = {
  apiUrl: 'http://localhost:3000/api',  // æœ¬åœ°å¼€å‘
  shop: 'test-shop.myshopify.com',
  enabled: true,
  debug: true  // å¼€å¯è°ƒè¯•æ—¥å¿—
};
```

### æµ‹è¯•ç¯å¢ƒ
```javascript
window.PREORDER_CONFIG = {
  apiUrl: 'https://staging-app.vercel.app/api',
  shop: '{{ shop.permanent_domain }}',
  enabled: true,
  debug: true
};
```

### ç”Ÿäº§ç¯å¢ƒ
```javascript
window.PREORDER_CONFIG = {
  apiUrl: 'https://shopmall.dpdns.org/api',
  shop: '{{ shop.permanent_domain }}',
  enabled: true,
  debug: false
};
```

---

## ğŸ§ª é…ç½®éªŒè¯

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// æŸ¥çœ‹å½“å‰é…ç½®
console.log(window.PreOrderAppEmbed.config)

// æœŸæœ›è¾“å‡ºï¼š
// {
//   shop: "your-shop.myshopify.com",
//   apiUrl: "https://shopmall.dpdns.org/api",  // âœ… æ­£ç¡®çš„ URL
//   enabled: true,
//   debug: false
// }
```

---

## âœ… æ£€æŸ¥æ¸…å•

- [ ] é…ç½®äº† `window.PREORDER_CONFIG`
- [ ] `apiUrl` æŒ‡å‘æ­£ç¡®çš„åŸŸå
- [ ] `shop` ä½¿ç”¨ `{{ shop.permanent_domain }}`
- [ ] ç”Ÿäº§ç¯å¢ƒ `debug: false`
- [ ] åœ¨æµè§ˆå™¨æ§åˆ¶å°éªŒè¯é…ç½®

---

**é…ç½®å®Œæˆåï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ä½¿ç”¨ä½ çš„é…ç½®ï¼** ğŸ‰
